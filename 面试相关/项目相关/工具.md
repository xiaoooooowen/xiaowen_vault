### 什么是 JWT（JSON Web Token）？登录流程？
JWT（JSON Web Token）是一种开放标准（RFC 7519），用于在各方之间安全地传输信息，常用于身份认证和授权。它是一个**无状态、自包含**的令牌，由三部分组成，用点号 `.` 连接：
1. **Header（头部）**：声明令牌类型（`typ: JWT`）和签名算法（如 `alg: HS256`）；
2. **Payload（负载）**：包含“声明”（claims），如：
    - `sub`：主题（通常是用户 ID）
    - `exp`：过期时间（Unix 时间戳）
    - `iat`：签发时间
    - `iss`：签发者
    - 也可以自定义业务数据（但不应放敏感信息）；
3. **Signature（签名）**：对 `base64UrlEncode(header) + '.' + base64UrlEncode(payload)` 使用密钥（如 HMAC 或 RSA）进行签名，确保令牌未被篡改。

**基于 JWT 的登录流程如下：**
1. 用户提交用户名、密码等凭证；
2. 服务端验证通过后，使用预设密钥生成 JWT，包含用户身份和过期时间等信息；
3. 服务端将 JWT 返回给客户端（通常在响应体或 `Set-Cookie` 中）；
4. 客户端在后续请求中，将 JWT 放在 `Authorization` 头中，格式为：`Bearer <token>`；
5. 服务端收到请求后，验证 JWT 的签名是否有效、是否过期、签发者是否可信等，若验证通过，则认为用户已认证，无需查询数据库或依赖会话存储。


**与传统 Session 相比，JWT 的核心优势是“无状态”**：

- 服务端无需存储会话信息，便于水平扩展；
- 适合分布式系统、微服务、移动端等场景。

**但也带来一些挑战：**

- **无法主动吊销**：一旦签发，在过期前一直有效。解决方案包括使用短期 token + refresh token、维护吊销黑名单（如 Redis）；
- **敏感信息不应放在 Payload**：因为 JWT 只是编码（Base64Url），不是加密，客户端可解码；
- **必须使用 HTTPS**：防止令牌被窃听；
- **合理设置过期时间**：避免过长导致安全风险，过短影响用户体验。

因此，JWT 是一种强大的认证机制，但在使用时需要根据业务需求权衡其优缺点。