## Buffer Pool里面有什么？
- 数据页
- 索引页
- 插入缓存页
- undo页
- 锁信息
- 自适应哈希索引
## BufferPool怎么工作？
InnoDB引擎中存在Buffer Pool，通过buff_size控制大小，默认问128MB
他内部有三种页：
- 空闲页；
- 干净页：
- 脏页：被修改过数据的
所有从磁盘访问到的数据页都会进入buffer pool 
它通过三个链表管理这些页：
- clean list ：
- flush list ：
- LRU list ：
### ### InnoDB 的改进版 LRU 机制
1. **冷热分区（Young/Old Sublist）**
    
    - **Young 区（热区）**：存放高频访问的热点页。
    - **Old 区（冷区）**：存放新加载或低频访问的页。
    - 默认比例：Old 区占整个 LRU 链表的 **37%**（由 `innodb_old_blocks_pct` 控制）。
2. **新页插入位置**
    
    - 从磁盘读入的新页 **不插入链表头部**，而是插入 **Old 区的头部**（即整个 LRU 链表约 3/8 处）。
3. **延迟晋升机制**  
    一个 Old 区的页要晋升到 Young 区，必须同时满足：
    
    - 在 Old 区已停留 ≥ **`innodb_old_blocks_time`**（默认 1000ms）；
    - 在此之后 **再次被访问**。  
        → 过滤“只用一次”的冷数据。
4. **淘汰策略**
    
    - 当 Buffer Pool 满时，**优先从 Old 区尾部淘汰页面**；
    - Young 区页面即使长时间未用，也会比 Old 区页面更晚被淘汰。
## 脏页通过什么时候刷入磁盘？
- pool满了
- redo日志满了
- MySQL闲的时候
- MySQL关闭的时候

