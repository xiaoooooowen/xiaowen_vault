# 基础知识
## IP基本认识
IP协议位于网络层，网络层的主要作用是：实现主机与主机之间的通信，也叫点对点通信
### 网络层和数据链路层有什么关系？
IP是主机之间通信的，MAC的作用是实现直连的两个设备之间通信，IP负责在没有直连的两个网络之间进行通信传输
网络传输过程中，源MAC地址和目的MAC地址一直在变
## IP地址
32位正整数，方便记忆使用点分十进制
使用NAT技术实现更多的IP地址，让可连接数超过43亿台
### IP地址的分类
分为五类
- A类：0（1bit） + 网络号（7bit ）|主机号（24bit）
- B类：10（2bit）+ 网络号（14bit）|主机号（16bit）
- C类：110（3bit）+ 网络号（21bit）|主机号（8bit）
- D类：1110（4bit）| 组播地址（28bit）
- E类：1111（4bit）| 留待后用（28bit）
IP地址中，有两个IP是特殊的：
- 主机号全为0：指定某个网络
- 主机号全为1：指定某个网络下的所有主机，用于广播
### 广播地址用于什么？
用于同一个链路中相互连接的主机之间发送数据包

- 本地广播：本网络内广播，路由器屏蔽不让他出门
- 直接广播：向目的网络发送
### D类地址用于IP多播，多播地址干什么的？
将包发送给特定组内的所有主机
### IP分类的优点？
判断第几位是0就确定是哪类
### IP分类的缺点？

## 无分类地址CIDR
IP地址和子网掩码作按位与，得到网络号
### 为什么分离网络号和主机号？
通过网络号转发
### 怎么进行子网划分？
斜杠后面表示网络号多长
从后面的主机号借用几位作为子网号
最小作为子网地址
最大作为广播地址
### 公有IP地址与私有IP地址
### IP地址和路由控制
环回地址不流向网络127.0.0.1
### IP分片与重组
### IPv6基本认识
#### 亮点
- ipv6自动配置，没有DHCP服务器也能自动分配IP地址
- ipv6首部长度使用固定的40字节，去掉了包头检验和
- 可以应对伪造IP地址等，安全性提高
#### 地址标识方法
138位，十六位为一组，有八组，十六进制表示，中间的0可以用：：省略，只能使用一次
#### ipv6地址的结构
- 单播地址
- 组播地址
- 任播地址
- 没有广播地址
#### ipv6单播地址类型
- 同一链路：链路本地单播地址
- 在内网单播通信，唯一本地地址
- 在互联网通信，全局单播地址
#### 改变
- 取消首部校验和字段：传输层和数据链路层会检验
- 取消分片/重新组装相关字段：只允许源和目标主机操作
- 取消选项字段
## IP协议相关技术
### DNS
#### 域名解析的流程
### ARP
ARP响应和ARP请求
- 主机广播发送ARP请求，包含主机IP地址
- 主机拆开请求包，查看是否和自己的MAC相同，相同，放入
ARP缓存定时清除

RARP相反
### DHCP
使用UDP广播通信
使用中继代理对不同网段的IP地址分配一个DHCP服务器进行统一管理

### NAT
网络地址和端口转换NAPT
#### 缺点：

#### 解决方案：
- 改用ipv6
- NAT穿透
### ICMP
- 确认IP包是否成功到达目标地址、报告发送过程中IP包被废弃的原因和改善网络配置
- 使用IP发送
#### 类型
- 查询类型报文
- 差错类型报文
### IGMP
他是因特网组管理协议，工作在主机（组播成员）和最后一跳路由之间
todo

## PING的工作原理
### ping
ICMP报文最重要的两个字段：
- 类型
- 序号
## 断网可以ping通localhost吗？
### 127.0.0.1和localhost以及0.0.0.0有区别吗？
- localhost默认解析为回环地址

